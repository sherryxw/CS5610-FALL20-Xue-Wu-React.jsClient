(this["webpackJsonpcs5610-f20-client-react-xue"]=this["webpackJsonpcs5610-f20-client-react-xue"]||[]).push([[0],{28:function(e,t,n){},30:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},32:function(e,t,n){e.exports=n(46)},43:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(5),o=n(20),i=n.n(o);n(41),n(42),n(30),n(43);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(1),l=n(10),u=n(11),d=n(12),m=n(14),p=n(13),f=n(4),h=n(3),E="https://wbdv-generic-server.herokuapp.com/api/10394858392/courses",g=function(e){return fetch(E,{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},b=function(e){return fetch("".concat(E,"/").concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},O=function(e,t){return fetch("".concat(E,"/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},v="https://wbdv-generic-server.herokuapp.com/api/10394858392/lessons",j="https://wbdv-generic-server.herokuapp.com/api/10394858392/modules",N=function(e){return fetch("".concat(j,"/").concat(e,"/lessons")).then((function(e){return e.json()}))},_=function(e,t){return fetch("".concat(j,"/").concat(e,"/lessons"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},T=function(e){return fetch("".concat(v,"/").concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},w=function(e,t){return fetch("".concat(v,"/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},y="",I=Object(r.b)((function(e){return{lessons:e.lessonReducer.lessons,lessonId:e.topicPillsReducer.lessonId,moduleId:e.lessonReducer.moduleId,course:e.courseReducer.course}}),(function(e){return{ok:function(t){return w(t._id,Object(s.a)(Object(s.a)({},t),{},{editing:!1})).then((function(n){return e({type:"UPDATE_LESSON",lesson:Object(s.a)(Object(s.a)({},t),{},{editing:!1})})}))},edit:function(t){return w(t._id,Object(s.a)(Object(s.a)({},t),{},{editing:!0})).then((function(n){return e({type:"UPDATE_LESSON",lesson:Object(s.a)(Object(s.a)({},t),{},{editing:!0})})}))},updateLesson:function(t){return w(t._id,t).then((function(t){return e({type:"UPDATE_LESSON",lesson:t})}))},deleteLesson:function(t){return T(t).then((function(n){return e({type:"DELETE_LESSON",lessonId:t})}))},createLesson:function(t){return _(t,{title:"New Lesson"}).then((function(t){return e({type:"CREATE_LESSON",lesson:t})}))},updateLessonTitle:function(t){return e({type:"UPDATE_LESSON",lesson:t})}}}))((function(e){var t=e.course,n=void 0===t?{}:t,a=e.moduleId,r=e.lessons,o=void 0===r?[]:r,i=e.createLesson,l=e.deleteLesson,u=e.updateLessonTitle,d=e.edit,m=e.ok,p=e.lessonId;return c.a.createElement("div",null,c.a.createElement("ul",{className:"nav nav-tabs wbdv-lesson-tabs tabs-border"},o.map((function(e){return c.a.createElement("li",{key:e._id,className:"nav-item"},c.a.createElement("div",{className:"nav-link tab-info \n                            ".concat(y===e._id||p===e._id?"tab-active":"")},!e.editing&&c.a.createElement("span",null,c.a.createElement(f.b,{to:"/edit/course/".concat(n._id,"/modules/").concat(a,"/lessons/").concat(e._id),className:"link"},e.title),c.a.createElement("i",{onClick:function(){d(e),y=e._id},className:"fa fa-pencil pull-right"})),e.editing&&c.a.createElement("span",null,c.a.createElement("input",{onChange:function(t){return u(Object(s.a)(Object(s.a)({},e),{},{title:t.target.value}))},value:e.title}),c.a.createElement("i",{onClick:function(){m(e),y=""},className:"fa fa-check"}),c.a.createElement("i",{onClick:function(){return l(e._id)},className:"fa fa-times"}))))}))),a&&c.a.createElement("i",{onClick:function(){return i(a)},className:"fa fa-2x fa-plus-circle wbdv-lesson-add-btn pull-right","aria-hidden":"true"}))})),C="https://wbdv-generic-server.herokuapp.com/api/10394858392/topics",P=function(e){return fetch("".concat("https://wbdv-generic-server.herokuapp.com/api/10394858392/lessons","/").concat(e,"/topics")).then((function(e){return e.json()}))},S=function(e,t){return fetch("".concat("https://wbdv-generic-server.herokuapp.com/api/10394858392/lessons","/").concat(e,"/topics"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},k=function(e){return fetch("".concat(C,"/").concat(e._id),{method:"PUT",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},D=function(e){return fetch("".concat(C,"/").concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},L="",R=Object(r.b)((function(e){return{topicPills:e.topicPillsReducer.topicPills,topicId:e.widgetReducer.topicId,lessonId:e.topicPillsReducer.lessonId,moduleId:e.lessonReducer.moduleId,course:e.courseReducer.course}}),(function(e){return{createTopic:function(t){return S(t,{title:"New Topic"}).then((function(t){return e({type:"CREATE_TOPIC",topicPills:t})}))},deleteTopicPills:function(t){return D(t).then((function(n){return e({type:"DELETE_TOPIC",topicId:t})}))},updateTopicTitle:function(t){return e({type:"UPDATE_TOPIC",topicPill:t})},ok:function(t){return k(Object(s.a)(Object(s.a)({},t),{},{editing:!1})).then((function(n){return e({type:"UPDATE_TOPIC",topicPill:Object(s.a)(Object(s.a)({},t),{},{editing:!1})})}))},edit:function(t){return k(Object(s.a)(Object(s.a)({},t),{},{editing:!0})).then((function(n){return e({type:"UPDATE_TOPIC",topicPill:Object(s.a)(Object(s.a)({},t),{},{editing:!0})})}))}}}))((function(e){var t=e.topicPills,n=void 0===t?[]:t,a=e.course,r=void 0===a?{}:a,o=e.lessonId,i=e.moduleId,l=e.topicId,u=e.createTopic,d=e.deleteTopicPills,m=e.updateTopicTitle,p=e.ok,h=e.edit;return c.a.createElement("div",null,c.a.createElement("ul",{className:"nav nav-pills wbdv-topic-pill-list"},n.map((function(e){return c.a.createElement("li",{className:"nav-item \n                    ".concat(L===e._id||l===e._id?"tab-active":""),key:e._id},!e.editing&&c.a.createElement(f.b,{to:"/edit/course/".concat(r._id,"/modules/").concat(i,"/lessons/").concat(o,"/topics/").concat(e._id),className:"nav-link wbdv-topic-pill"},e.title,c.a.createElement("i",{className:"fa fa-pencil pull-right",onClick:function(){h(e),L=e._id}})),e.editing&&c.a.createElement("span",null,c.a.createElement("input",{value:e.title,onChange:function(t){return m(Object(s.a)(Object(s.a)({},e),{},{title:t.target.value}))}}),c.a.createElement("i",{className:"fa fa-times pull-right",onClick:function(){return d(e._id)}}),c.a.createElement("i",{className:"fa fa-check pull-right",onClick:function(){p(e),L=""}})))}))),o&&c.a.createElement("i",{onClick:function(){return u(o)},className:"fa fa-2x fa-plus-circle topic-pill-button pull-right","aria-hidden":"true"}))})),x=n(31),W=function(e){var t=e.editing,n=e.index,a=e.length,r=e.widget,o=e.moveWidgetPos,i=e.updateWidget,l=e.deleteWidget;return c.a.createElement("div",null,t&&c.a.createElement("div",null,c.a.createElement("h3",null,"Heading Widgets",c.a.createElement("button",{className:"fa fa-times widget-delete-button float-right button-margin",onClick:function(){return l(r.id)}}),c.a.createElement("select",{className:"float-right",value:r.type,onChange:function(e){return i(Object(s.a)(Object(s.a)({},r),{},{type:e.target.value}))}},c.a.createElement("option",{value:"HEADING"},"Heading"),c.a.createElement("option",{value:"PARAGRAPH"},"Paragraph")),n<a-1&&c.a.createElement("button",{className:"fa fa-arrow-down position-button float-right",onClick:function(){return o(n,n+1)}}),n>0&&c.a.createElement("button",{className:"fa fa-arrow-up position-button float-right",onClick:function(){return o(n,n-1)}})),c.a.createElement("input",{className:"form-control input-field",placeholder:"Heading Text",value:r.text||"",id:"headingWidgetText".concat(r.id),onChange:function(e){return i(Object(s.a)(Object(s.a)({},r),{},{text:e.target.value}))}}),c.a.createElement("select",{className:"form-control input-field",value:r.size,id:"headingWidgetSize".concat(r.id),onChange:function(e){return i(Object(s.a)(Object(s.a)({},r),{},{size:parseInt(e.target.value)}))}},c.a.createElement("option",{value:"1"},"Heading 1"),c.a.createElement("option",{value:"2"},"Heading 2"),c.a.createElement("option",{value:"3"},"Heading 3"),c.a.createElement("option",{value:"4"},"Heading 4"),c.a.createElement("option",{value:"5"},"Heading 5"),c.a.createElement("option",{value:"6"},"Heading 6")),c.a.createElement("input",{value:r.name||"",placeholder:"Name",className:"form-control input-field",id:"headingWidgetName".concat(r.id),onChange:function(e){return i(Object(s.a)(Object(s.a)({},r),{},{name:e.target.value}))}}),c.a.createElement("h3",null,"Preview"),c.a.createElement("span",null,1===r.size&&c.a.createElement("h1",null,r.text),2===r.size&&c.a.createElement("h2",null,r.text),3===r.size&&c.a.createElement("h3",null,r.text),4===r.size&&c.a.createElement("h4",null,r.text),5===r.size&&c.a.createElement("h5",null,r.text),6===r.size&&c.a.createElement("h6",null,r.text))),!t&&c.a.createElement("span",null,c.a.createElement("h4",null,"---Heading Widget---"),1===r.size&&c.a.createElement("h1",null,r.text),2===r.size&&c.a.createElement("h2",null,r.text),3===r.size&&c.a.createElement("h3",null,r.text),4===r.size&&c.a.createElement("h4",null,r.text),5===r.size&&c.a.createElement("h5",null,r.text),6===r.size&&c.a.createElement("h6",null,r.text)))},F=function(e){var t=e.editing,n=e.widget,a=e.index,r=e.length,o=e.updateWidget,i=e.moveWidgetPos,l=e.deleteWidget;return c.a.createElement("div",null,t&&c.a.createElement("div",null,c.a.createElement("h3",null,"Paragraph Widgets",c.a.createElement("button",{className:"fa fa-times widget-delete-button float-right",onClick:function(){return l(n.id)}}),c.a.createElement("select",{className:"float-right",value:n.type,onChange:function(e){return o(Object(s.a)(Object(s.a)({},n),{},{type:e.target.value}))}},c.a.createElement("option",{value:"HEADING"},"Heading"),c.a.createElement("option",{value:"PARAGRAPH"},"Paragraph")),a>0&&c.a.createElement("button",{className:"fa fa-arrow-up position-button float-right",onClick:function(){return i(a,a-1)}}),a<r-1&&c.a.createElement("button",{className:"fa fa-arrow-down position-button float-right",onClick:function(){return i(a,a+1)}})),c.a.createElement("textarea",{className:"form-control input-field",placeholder:"Paragraph Text",value:n.text||"",onChange:function(e){return o(Object(s.a)(Object(s.a)({},n),{},{text:e.target.value}))}}),c.a.createElement("input",{value:n.name||"",placeholder:"Paragraph Name",className:"form-control input-field",onChange:function(e){return o(Object(s.a)(Object(s.a)({},n),{},{name:e.target.value}))}}),c.a.createElement("h3",null,"Preview"),c.a.createElement("span",null,n.text)),!t&&c.a.createElement("span",null,c.a.createElement("h4",null,"---Paragraph Widget---"),c.a.createElement("h5",null,n.text)))},A="http://localhost:8080/api/widgets",U="http://localhost:8080/api/topics",M=function(){return fetch(A).then((function(e){return e.json()}))},G=function(e,t){return fetch("".concat(U,"/").concat(e,"/widgets"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},H=function(e){return fetch("".concat(U,"/").concat(e,"/widgets")).then((function(e){return e.json()}))},z=function(e,t){return fetch("".concat(U,"/").concat(e,"/widgets"),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},J=Object(r.b)((function(e){return{widgets:e.widgetReducer.widgets,topicId:e.widgetReducer.topicId}}),(function(e){return{deleteWidget:function(t){return e({type:"DELETE_WIDGET",widgetId:t})},createWidgetForTopic:function(t){return G(t,{type:"HEADING",size:1}).then((function(t){return e({type:"CREAT_WIDGET_FOR_TOPIC",widget:t})}))},saveButton:function(e,t){return z(e,t)},updateWidget:function(t){return e({type:"UPDATE_WIDGET",widget:t})},moveWidgetPos:function(t,n){return e({type:"MOVE_POSITION",fromPos:t,toPos:n})}}}))((function(e){var t=e.widgets,n=void 0===t?[]:t,r=e.topicId,o=e.createWidgetForTopic,i=e.saveButton,s=e.updateWidget,l=e.moveWidgetPos,u=e.deleteWidget,d=Object(a.useState)(!1),m=Object(x.a)(d,2),p=m[0],f=m[1];return c.a.createElement("div",null,r&&c.a.createElement("div",{className:"d-flex bd-highlight justify-content-end mb-3"},c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("button",{className:"button-margin btn btn-success ",onClick:function(){return i(r,n)}},"Save"),c.a.createElement("div",{className:"custom-control custom-switch d-inline-block"},c.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customSwitches",onClick:function(){f(!p)}}),c.a.createElement("label",{className:"custom-control-label preview",htmlFor:"customSwitches"},c.a.createElement("strong",null,"Preview"))))),n.map((function(e,t){return c.a.createElement("i",{key:e.id},"HEADING"===e.type&&c.a.createElement(W,{key:e.id,index:t,editing:p,length:n.length,widget:e,moveWidgetPos:l,deleteWidget:u,updateWidget:s}),"PARAGRAPH"===e.type&&c.a.createElement(F,{key:e.id,index:t,editing:p,length:n.length,widget:e,moveWidgetPos:l,deleteWidget:u,updateWidget:s}))})),r&&c.a.createElement("i",{className:"fa fa-2x fa-plus-circle float-right add-widget-button",onClick:function(){return o(r)}}))})),B=Object(r.b)((function(e){return{widgets:e.widgetReducer.widgets}}),(function(e){return{deleteWidget:function(t){return{type:"DELETE_WIDGET",widgetId:e}}}}))(J),V="https://wbdv-generic-server.herokuapp.com/api/10394858392/courses",$=function(e,t){return fetch("".concat("https://wbdv-generic-server.herokuapp.com/api/10394858392/modules","/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},q=function(e){return fetch("".concat(V,"/").concat(e,"/modules")).then((function(e){return e.json()}))},K=function(e,t){return fetch("".concat(V,"/").concat(e,"/modules"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},Q=function(e){return fetch("".concat("https://wbdv-generic-server.herokuapp.com/api/10394858392/modules","/").concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},X="",Y=Object(r.b)((function(e){return{modules:e.moduleReducer.modules,moduleId:e.lessonReducer.moduleId,course:e.courseReducer.course}}),(function(e){return{ok:function(t){return $(t._id,Object(s.a)(Object(s.a)({},t),{},{editing:!1})).then((function(n){return e({type:"UPDATE_MODULE",module:Object(s.a)(Object(s.a)({},t),{},{editing:!1})})}))},edit:function(t){return $(t._id,Object(s.a)(Object(s.a)({},t),{},{editing:!0})).then((function(n){return e({type:"UPDATE_MODULE",module:Object(s.a)(Object(s.a)({},t),{},{editing:!0})})}))},deleteModule:function(t){return Q(t._id).then((function(n){return e({type:"DELETE_MODULE",module:t})}))},createModule:function(t){return K(t._id,{title:"New Module"}).then((function(t){return e({type:"CREATE_MODULE",module:t})}))},updateModule:function(t){return e({type:"UPDATE_MODULE",module:t})}}}))((function(e){var t=e.course,n=void 0===t?{}:t,a=e.modules,r=void 0===a?[]:a,o=e.moduleId,i=e.deleteModule,l=e.createModule,u=e.updateModule,d=e.edit,m=e.ok;return c.a.createElement("div",null,c.a.createElement("ul",{className:"wbdv-module-item"},r.map((function(e){return c.a.createElement("li",{className:"list-group-item wbdv-module-item-style \n                    ".concat(o===e._id||X===e._id?"active":""),key:e._id},!e.editing&&c.a.createElement("span",null,c.a.createElement(f.b,{to:"/edit/course/".concat(n._id,"/modules/").concat(e._id),className:"link"},e.title),c.a.createElement("i",{className:"fa fa-pencil pull-right",onClick:function(){d(e),X=e._id}})),e.editing&&c.a.createElement("span",null,c.a.createElement("input",{onChange:function(t){return u(Object(s.a)(Object(s.a)({},e),{},{title:t.target.value}))},value:e.title}),c.a.createElement("i",{className:"fa fa-trash pull-right",onClick:function(){return i(e)}}),c.a.createElement("i",{className:"fa fa-check pull-right",onClick:function(){m(e),X=""}})))}))),c.a.createElement("i",{className:"fa fa-plus fa-2x pull-right module-plus",onClick:function(){return l(n)}}))})),Z=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.courseId,t=this.props.match.params.moduleId,n=this.props.match.params.lessonId,a=this.props.match.params.topicId;e&&(this.props.findCourseById(e),this.props.findModulesForCourse(e),this.props.clearTopic("0000"),this.props.clearLesson("0000"),this.props.cleanWidget("00000")),t&&this.props.findLessonsForModule(t),n&&this.props.findTopicPillsForLesson(n),a&&this.props.findWidgetsForTopic(a)}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props.match.params.moduleId,c=this.props.match.params.lessonId,r=this.props.match.params.topicId;a!==e.match.params.moduleId&&a&&(this.props.findLessonsForModule(a),this.props.clearTopic("000"),this.props.cleanWidget("0000")),c!==e.match.params.lessonId&&c&&this.props.findTopicPillsForLesson(c),r&&this.props.findWidgetsForTopic(r)}},{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row wbdv-course-title"},c.a.createElement("div",{className:"col-4"},c.a.createElement("h2",null,c.a.createElement(f.b,{to:"/",className:"fa fa-times pull-left wbdv-close"}),c.a.createElement("span",null,this.props.course.title," - WebDev"))),c.a.createElement("div",{className:"col-8"},c.a.createElement(I,null))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-4 wbdv-module-list"},c.a.createElement(Y,null)),c.a.createElement("div",{className:"col-8 border-set border border-dark"},c.a.createElement(R,null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(B,null))))}}]),n}(c.a.Component),ee=Object(r.b)((function(e){return{course:e.courseReducer.course}}),(function(e){return{findAllWidgets:function(){return M().then((function(t){return e({type:"FIND_WIDGETS_FOR_TOPIC",widgets:t})}))},findCourseById:function(t){return(n=t,fetch("".concat(E,"/").concat(n)).then((function(e){return e.json()}))).then((function(t){return e({type:"SET_COURSES",course:t})}));var n},findModulesForCourse:function(t){return q(t).then((function(n){return e({type:"FIND_MODULES_FOR_COURSE",modules:n,courseId:t})}))},findLessonsForModule:function(t){return N(t).then((function(n){return e({type:"FIND_LESSONS_FOR_MODULE",lessons:n,moduleId:t})}))},findTopicPillsForLesson:function(t){return P(t).then((function(n){return e({type:"FIND_TOPICS_FOR_LESSON",topicPills:n,lessonId:t})}))},findWidgetsForTopic:function(t){return H(t).then((function(n){return e({type:"FIND_WIDGETS_FOR_TOPIC",widgets:n,topicId:t})}))},clearTopic:function(t){return P(t).then((function(n){return e({type:"FIND_TOPICS_FOR_LESSON",topicPills:n,noLessonId:t})}))},clearLesson:function(t){return N(t).then((function(n){return e({type:"FIND_LESSONS_FOR_MODULE",lesson:n,noModuleId:t})}))},cleanWidget:function(t){return H(t).then((function(n){return e({type:"FIND_WIDGETS_FOR_TOPIC",widget:n,noTopicId:t})}))}}}))(Z),te=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).updateTitle=function(e){var t=e.target.value;a.setState((function(e){return{course:Object(s.a)(Object(s.a)({},a.state.course),{},{title:t})}}))},a.updateCourseToServer=function(){O(a.state.course._id,a.state.course).then(a.setState({editing:!1}))},a.selectedToggle=function(){a.state.selected?a.setState({background:"white",selected:!1,font:"black"}):a.setState({background:"aliceblue",selected:!0,font:"white"})},a.state={course:a.props.course,editing:!1,selected:!1},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement("tr",{onClick:this.selectedToggle,style:{background:this.state.background,font:this.state.font}},c.a.createElement("td",null,c.a.createElement("i",{className:"fa fa-file-text-o","aria-hidden":"true"}),this.state.editing&&c.a.createElement("input",{onChange:this.updateTitle,value:this.state.course.title}),!this.state.editing&&c.a.createElement(f.b,{to:"/edit/course/".concat(this.state.course._id)},this.state.course.title)),c.a.createElement("td",null,c.a.createElement("span",{className:"d-none d-sm-block"},this.state.course.owner)),c.a.createElement("td",null,c.a.createElement("span",{className:"d-none d-lg-block"},this.state.course.modified)),c.a.createElement("td",null,!this.state.editing&&c.a.createElement("i",{className:"fa fa-2x fa-trash",onClick:function(){return e.props.deleteCourse(e.state.course)}}),this.state.editing&&c.a.createElement("i",{className:"fa fa-2x fa-check",onClick:this.updateCourseToServer}),!this.state.editing&&c.a.createElement("i",{className:"fa fa-2x fa-pencil",onClick:function(){return e.setState({editing:!0})}})))}}]),n}(c.a.Component),ne=function(e){var t=e.courses,n=e.deleteCourse,a=e.editCourse;return c.a.createElement("tbody",null,t.map((function(e){return c.a.createElement(te,{editCourse:a,deleteCourse:n,key:e._id,course:e})})))},ae=(n(28),function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).updateTitle=function(e){var t=e.target.value;a.setState((function(e){return{course:Object(s.a)(Object(s.a)({},a.state.course),{},{title:t})}}))},a.updateCourseToServer=function(){O(a.state.course._id,a.state.course).then(a.setState({editing:!1}))},a.state={editing:!1,course:a.props.course},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"card col-sm-6 col-md-4 col-lg-3 col-xl-2 col-12 pl-2 card-pos"},c.a.createElement("img",{className:"card-img-bottom",src:"https://img.resume.com/examples/new/customer-service-two-year-exp.jpeg"}),c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-title"},c.a.createElement("i",{className:"fa fa-file-text-o","aria-hidden":"true"}),this.state.editing&&c.a.createElement("input",{className:"form-control",onChange:this.updateTitle,value:this.state.course.title}),!this.state.editing&&c.a.createElement(f.b,{to:"/edit/course/".concat(this.state.course._id)},this.state.course.title)),c.a.createElement("p",{className:"card-text"}," Modified ",this.state.course.modified),c.a.createElement("i",{className:"fa fa-2x fa-trash pull-right",onClick:function(){return e.props.deleteCourse(e.props.course)}}),this.state.editing&&c.a.createElement("i",{className:"fa fa-2x fa-check pull-right",onClick:this.updateCourseToServer}),!this.state.editing&&c.a.createElement("i",{className:"fa fa-2x fa-pencil pull-right",onClick:function(){return e.setState({editing:!0})}})))}}]),n}(c.a.Component)),ce=function(e){var t=e.courses,n=e.deleteCourse;return c.a.createElement("div",{className:"container row"},t.map((function(e){return c.a.createElement(ae,{deleteCourse:n,key:e._id,course:e})})))},re=(n(45),function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={courses:[],courseBeingEdited:{},course:e.props.course,layout:"table",inputCourseTitle:!1},e.changeView=function(){"table"===e.state.layout&&e.setState({layout:"grid"}),"grid"===e.state.layout&&e.setState({layout:"table"})},e.deleteCourse=function(t){b(t._id).then((function(n){return e.setState((function(e){return{courses:e.courses.filter((function(e){return e._id!==t._id}))}}))})).catch((function(e){}))},e.addCourse=function(){var t;t=e.state.inputCourseTitle?{title:e.state.course.title,owner:"me",modified:(new Date).toDateString()}:{title:"New Course",owner:"me",modified:(new Date).toDateString()},g(t).then((function(t){return e.setState((function(e){return{courses:[].concat(Object(l.a)(e.courses),[t])}}))})),e.setState({inputCourseTitle:!1})},e.editCourse=function(t){e.setState({courseBeingEdited:t})},e.updateTitle=function(t){var n=t.target.value,a=Object(s.a)({},e.state.course);a.title=n,e.setState({course:a,inputCourseTitle:!0})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch(E).then((function(e){return e.json()})).then((function(t){e.setState({courses:t})}))}},{key:"render",value:function(){return c.a.createElement(f.a,null,c.a.createElement("div",{className:"container"},c.a.createElement(h.a,{path:["/:layout","/"],exact:!0},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"form-group row"},c.a.createElement("h1",{className:"wbdv-sticky-header"},c.a.createElement("a",{href:"#",className:"fa fa-bars wbdv-hamburger","aria-hidden":"true"}),c.a.createElement("span",{className:"mobile-hide course-mag"},"Course Manager"),c.a.createElement("input",{placeholder:"New Course",type:"text",className:"wbdv-new-course",onChange:this.updateTitle}),c.a.createElement("span",{className:"fa fa-plus-circle wbdv-add-course-button","aria-hidden":"true",onClick:this.addCourse}),c.a.createElement("span",{className:"fa fa-plus-circle pull-right wbdv-sticky-add-course-button","aria-hidden":"true"}))),c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Title"),c.a.createElement("th",null,c.a.createElement("span",{className:"d-none d-sm-block"},"Owned by")),c.a.createElement("th",null,c.a.createElement("span",{className:"d-none d-lg-block"},"Last modified")),c.a.createElement("th",null,"table"===this.state.layout&&c.a.createElement(f.b,{to:"/grid"},c.a.createElement("button",null,c.a.createElement("i",{className:"fa fa-th wbdv-grid-layout","aria-hidden":"true",onClick:this.changeView}))),"grid"===this.state.layout&&c.a.createElement(f.b,{to:"/table"},c.a.createElement("button",null,c.a.createElement("i",{className:"fa fa-list-ol wbdv-list-layout","aria-hidden":"true",onClick:this.changeView}))),c.a.createElement("button",{href:"#"},c.a.createElement("i",{className:"fa fa-sort-alpha-asc wbdv-sort","aria-hidden":"true"}))))),"table"===this.state.layout&&c.a.createElement(ne,{deleteCourse:this.deleteCourse,courses:this.state.courses})),"grid"===this.state.layout&&c.a.createElement(ce,{deleteCourse:this.deleteCourse,courses:this.state.courses}))),c.a.createElement(h.a,{path:["/edit/course/:courseId","/edit/course/:courseId/modules/:moduleId","/edit/course/:courseId/modules/:moduleId/lessons/:lessonId","/edit/course/:courseId/modules/:moduleId/lessons/:lessonId/topics/:topicId"],exact:!0,component:ee})))}}]),n}(c.a.Component)),oe=n(17),ie={widgets:[]},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FIND_WIDGETS_FOR_TOPIC":return Object(s.a)(Object(s.a)({},e),{},{widgets:t.widgets,topicId:t.topicId});case"FIND_ALL_WIDGETS":return Object(s.a)(Object(s.a)({},e),{},{widgets:t.widgets});case"CREAT_WIDGET_FOR_TOPIC":return Object(s.a)(Object(s.a)({},e),{},{widgets:[].concat(Object(l.a)(e.widgets),[t.widget])});case"UPDATE_WIDGET":return Object(s.a)(Object(s.a)({},e),{},{widgets:e.widgets.map((function(e){return e.id===t.widget.id?t.widget:e}))});case"DELETE_WIDGET":return Object(s.a)(Object(s.a)({},e),{},{widgets:e.widgets.filter((function(e){return e.id!==t.widgetId}))});case"MOVE_POSITION":var n=Object(l.a)(e.widgets);return n[t.fromPos]=n.splice(t.toPos,1,n[t.fromPos])[0],Object(s.a)(Object(s.a)({},e),{},{widgets:n});default:return e}},le={modules:[]},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_MODULE":return Object(s.a)(Object(s.a)({},e),{},{modules:e.modules.filter((function(e){return e._id!==t.module._id}))});case"CREATE_MODULE":return Object(s.a)(Object(s.a)({},e),{},{modules:[].concat(Object(l.a)(e.modules),[t.module])});case"UPDATE_MODULE":return Object(s.a)(Object(s.a)({},e),{},{modules:e.modules.map((function(e){return e._id===t.module._id?t.module:e}))});case"FIND_MODULES_FOR_COURSE":return Object(s.a)(Object(s.a)({},e),{},{modules:t.modules});default:return e}},de={courses:[],course:{}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COURSES":return Object(s.a)(Object(s.a)({},e),{},{course:t.course});default:return e}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_LESSON":return Object(s.a)(Object(s.a)({},e),{},{lessons:e.lessons.map((function(e){return e._id===t.lesson._id?t.lesson:e}))});case"DELETE_LESSON":return Object(s.a)(Object(s.a)({},e),{},{lessons:e.lessons.filter((function(e){return e._id!==t.lessonId}))});case"FIND_LESSONS_FOR_MODULE":return Object(s.a)(Object(s.a)({},e),{},{lessons:t.lessons,moduleId:t.moduleId});case"CREATE_LESSON":return Object(s.a)(Object(s.a)({},e),{},{lessons:[].concat(Object(l.a)(e.lessons),[t.lesson])});default:return e}},fe={topicPills:[]},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FIND_TOPICS_FOR_LESSON":return Object(s.a)(Object(s.a)({},e),{},{topicPills:t.topicPills,lessonId:t.lessonId});case"CREATE_TOPIC":return Object(s.a)(Object(s.a)({},e),{},{topicPills:[].concat(Object(l.a)(e.topicPills),[t.topicPills])});case"DELETE_TOPIC":return Object(s.a)(Object(s.a)({},e),{},{topicPills:e.topicPills.filter((function(e){return e._id!==t.topicId}))});case"UPDATE_TOPIC":return Object(s.a)(Object(s.a)({},e),{},{topicPills:e.topicPills.map((function(e){return e._id===t.topicPill._id?t.topicPill:e}))});default:return e}},Ee=Object(oe.b)({widgetReducer:se,moduleReducer:ue,courseReducer:me,lessonReducer:pe,topicPillsReducer:he}),ge=Object(oe.c)(Ee);i.a.render(c.a.createElement(r.a,{store:ge},c.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.0f75f73b.chunk.js.map